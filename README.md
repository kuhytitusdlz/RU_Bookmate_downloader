# RUBookmatedownloader

> **–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± ‚Äî –≥–æ—Ç–æ–≤–∞—è Windows‚Äë—Å–±–æ—Ä–∫–∞ `.exe`.** –í–∞—Ä–∏–∞–Ω—Ç —á–µ—Ä–µ–∑ Python –ø—Ä–∏–≤–µ–¥—ë–Ω –Ω–∏–∂–µ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π.  
> –í `.exe` —É–∂–µ –≤–∫–ª—é—á—ë–Ω **FFmpeg** (ffmpeg/ffprobe/ffplay), –æ—Ç–¥–µ–ª—å–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Windows, –≥–æ—Ç–æ–≤—ã–π `.exe`)

1. **–°–∫–∞—á–∞–π—Ç–µ** –∞—Ä—Ö–∏–≤ —Ä–µ–ª–∏–∑–∞: `RUBookmateDownloader-win64.zip` (–≤ —Ä–∞–∑–¥–µ–ª–µ *Releases*).
2. **–†–∞—Å–ø–∞–∫—É–π—Ç–µ** –≤ —É–¥–æ–±–Ω—É—é –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\Apps\RUBookmateDownloader\`).  
   –í–Ω—É—Ç—Ä–∏ —É–∂–µ –µ—Å—Ç—å `RUBookmateDownloader.exe` **–∏** –≥–æ—Ç–æ–≤—ã–µ `ffmpeg.exe / ffprobe.exe / ffplay.exe`.
3. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ / –≤—Ö–æ–¥**  
   –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```powershell
   .\RUBookmateDownloader.exe
   ```
   –ï—Å–ª–∏ `token.txt` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (OAuth –Ø–Ω–¥–µ–∫—Å/Bookmate). –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ `token.txt`.  
   –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```powershell
   .\RUBookmateDownloader.exe auth
   ```
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ø—Ä–∏–º–µ—Ä—ã)**  
   –¢–∏–ø —Ä–µ—Å—É—Ä—Å–∞ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –ø–æ URL: `https://bookmate.ru/<—Ç–∏–ø>/<id>` ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä: `audiobook`, `book`, `comicbook`, `serial`, `series`.

   **–ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–º–∞–∫—Å. –∫–∞—á–µ—Å—Ç–≤–æ):**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --merge-chapters --max-bitrate
   ```

   **–ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–æ–±—ã—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ):**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --merge-chapters
   ```

   **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–ª–∞–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --merge-chapters --merge-chapters
   ```

   **–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≥–ª–∞–≤—ã –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --merge-chapters --keep-chapters
   ```

   **–¢–µ–∫—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞:**
   ```powershell
   .\RUBookmateDownloader.exe book <id>
   ```

   **–ö–æ–º–∏–∫—Å:**
   ```powershell
   .\RUBookmateDownloader.exe comicbook <id>
   ```

   **–°–µ—Ä–∏–∞–ª (—Ç–µ–∫—Å—Ç –∏–∑ —á–∞—Å—Ç–µ–π):**
   ```powershell
   .\RUBookmateDownloader.exe serial <id>
   ```

   **–°–µ—Ä–∏—è (–ø–æ–¥–±–æ—Ä–∫–∞):**
   ```powershell
   .\RUBookmateDownloader.exe series <id>
   ```

5. **–ü—Ä–æ–∫—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**  
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–º CLI:
     ```powershell
     .\RUBookmateDownloader.exe audiobook <id> --merge-chapters --proxy "socks5h://127.0.0.1:9050"
     ```
   - –ò–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (PowerShell):
     ```powershell
     $env:BOOKMATE_PROXY = "http://127.0.0.1:8080"
     # –∏–ª–∏
     $env:BOOKMATE_PROXY = "socks5h://127.0.0.1:9050"
     .\RUBookmateDownloader.exe audiobook <id> --merge-chapters
     ```

6. **–ê—Ä—Ö–∏–≤ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö (–∫–∞–∫ —É yt-dlp)**  
   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–µ–¥—ë—Ç `archive.txt` –≤ —Ä–∞–±–æ—á–µ–π –ø–∞–ø–∫–µ: **–∫–∞–∂–¥—ã–π —Å–∫–∞—á–∞–Ω–Ω—ã–π ID** ‚Äî –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ.  
   –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π ID –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è; –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∞ **–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è**. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª:
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --merge-chapters --archive "D:\my-archive.txt"
   ```

7. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–ª–∞–≤ –∞—É–¥–∏–æ–∫–Ω–∏–≥**  
   –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–ª–∞–≤—ã **–æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è** –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª (`ffmpeg` —É–∂–µ –≤–∫–ª—é—á—ë–Ω –≤ `.exe`).  
   –ö–ª—é—á–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: `--merge-chapters`, `--keep-chapters`.

8. **–¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥ (Windows)**  
   - **SmartScreen/Defender**: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–∞ ‚Üí ¬´–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å¬ª, –ª–∏–±–æ ¬´–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Üí –í—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å¬ª.
   - **–°–µ—Ç—å/–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--proxy` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `BOOKMATE_PROXY`; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –ø–∞—É–∑—ã `--throttle 1.5`.
   - **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: `auth` –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ `token.txt`.

---

## üêç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Python

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**  
   –ó–∞–ø—É—Å–∫ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ (–µ—Å–ª–∏ –Ω–µ—Ç `token.txt`):
   ```bash
   python RUBookmatedownloader.py
   ```
   –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
   ```bash
   python RUBookmatedownloader.py auth
   ```

3. **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥**
   ```bash
   # –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–º–∞–∫—Å. –∫–∞—á–µ—Å—Ç–≤–æ)
   python RUBookmatedownloader.py audiobook <id> --merge-chapters --max-bitrate

   # –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–æ–±—ã—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
   python RUBookmatedownloader.py audiobook <id> --merge-chapters

   # –ù–µ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≥–ª–∞–≤—ã
   python RUBookmatedownloader.py audiobook <id> --merge-chapters --merge-chapters

   # –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≥–ª–∞–≤—ã –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
   python RUBookmatedownloader.py audiobook <id> --merge-chapters --keep-chapters

   # –¢–µ–∫—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞
   python RUBookmatedownloader.py book <id>

   # –ö–æ–º–∏–∫—Å
   python RUBookmatedownloader.py comicbook <id>

   # –°–µ—Ä–∏–∞–ª (—Ç–µ–∫—Å—Ç –∏–∑ —á–∞—Å—Ç–µ–π)
   python RUBookmatedownloader.py serial <id>

   # –°–µ—Ä–∏—è (–ø–æ–¥–±–æ—Ä–∫–∞)
   python RUBookmatedownloader.py series <id>
   ```

4. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã CLI (–≤—ã–¥–µ—Ä–∂–∫–∞)**
   - `--proxy <url>` ‚Äî HTTP/SOCKS5(h) –ø—Ä–æ–∫—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `socks5h://127.0.0.1:9050`).  
   - `--throttle <sec>` ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏/—Ç—Ä–µ–∫–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–∑—É–º–Ω–∞—è).  
   - `--max-retries <n>` ‚Äî —á–∏—Å–ª–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏.  
   - `--backoff-initial <sec>` ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–∞—É–∑–∞ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ backoff.  
   - `--timeout-base-req <sec>`, `--timeout-base-dl <sec>` ‚Äî –±–∞–∑–æ–≤—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–∫–∞—á–∏–≤–∞–Ω–∏–π.  
   - `--force-meta` ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±–ª–æ–∂–µ–∫/–≥–ª–∞–≤ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏.  
   - `--archive <path>` ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–æ —Å–ø–∏—Å–∫–æ–º —É–∂–µ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö ID.  
   - `--merge-chapters`, `--keep-chapters` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–µ–π–∫–æ–π –≥–ª–∞–≤ –∞—É–¥–∏–æ.

5. **–ù—é–∞–Ω—Å—ã FFmpeg**
   - –í `.exe`‚Äë–≤–µ—Ä—Å–∏–∏ **FFmpeg —É–∂–µ –≤–∫–ª—é—á—ë–Ω**.  
   - –í Python‚Äë–≤–∞—Ä–∏–∞–Ω—Ç–µ –Ω—É–∂–µ–Ω `ffmpeg` –≤ `PATH` (Linux: `apt install ffmpeg`, macOS: `brew install ffmpeg`, Windows: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ —Å–±–æ—Ä–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä BtbN, –∏ –¥–æ–±–∞–≤—å—Ç–µ `bin` –≤ `PATH`).

6. **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (OAuth)**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç implicit flow –≤ –æ–∫–Ω–µ `pywebview`.  
   - –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–≤–æ–π OAuth **`client_id`** —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è **`YANDEX_CLIENT_ID`**. –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π ID, –ø—Ä–æ—à–∏—Ç—ã–π –≤ –∫–æ–¥–µ.  
   - –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `token.txt`. –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è ¬´–≤—ã—Ö–æ–¥–∞¬ª –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `auth`.  
   - Windows: –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –æ–∫–Ω–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **WebView2 Runtime** (–æ–±—ã—á–Ω–æ —Å—Ç–∞–≤–∏—Ç—Å—è —Å Microsoft Edge).  
     Linux/macOS: `pywebview` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç QtWebEngine ‚Äî –ø–∞–∫–µ—Ç `pywebview[qt]` —É–∂–µ —É—á—Ç—ë–Ω –≤ `requirements.txt`.

---

## üîß –°–±–æ—Ä–∫–∞ `.exe` (–¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤)
- GitHub Actions (`build-exe.yml`) —Å–æ–±–∏—Ä–∞–µ—Ç –æ–¥–Ω–æ—Ñ–∞–π–ª–æ–≤—ã–π EXE –∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç **–≥–æ—Ç–æ–≤—É—é —Å–±–æ—Ä–∫—É FFmpeg** (BtbN, `win64 gpl-shared`), –∫–æ–ø–∏—Ä—É—è –≤–µ—Å—å `bin` —Ä—è–¥–æ–º —Å EXE.

---

## üìú –ò–∑–º–µ–Ω–µ–Ω–∏—è (2025-08-29)
- –£–ª—É—á—à–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –∑–∞–ø—É—Å–∫ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ (–µ—Å–ª–∏ –Ω–µ—Ç `token.txt`); –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `auth`.
- –£–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ –ø–æ–¥–¥–æ–º–µ–Ω–∞ `yx<client_id>‚Ä¶` ‚Äî –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —Å `*.oauth.yandex.ru`, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `state`.
- –í `.exe` –≤–∫–ª—é—á—ë–Ω FFmpeg; –¥–ª—è Python –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `archive.txt` (–∫–∞–∫ —É yt-dlp), `--merge-chapters` –∏ `--keep-chapters`.


### üìÑ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ URL –∏–∑ —Ñ–∞–π–ª–∞ (–∫–∞–∫ –≤ yt-dlp)

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º —Å—Å—ã–ª–æ–∫ (–ø–æ –æ–¥–Ω–æ–π –≤ —Å—Ç—Ä–æ–∫–µ), –Ω–∞–ø—Ä–∏–º–µ—Ä `1.txt`:

```
https://books.yandex.ru/audiobooks/xxxxxxx?utm_place=post_slider
https://books.yandex.ru/audiobooks/yyyyyyy
https://books.yandex.ru/books/zzzzzz
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python RUBookmatedownloader.py -a 1.txt
# –∏–ª–∏ –¥–ª—è .exe
RUBookmateDownloader.exe -a 1.txt
```

- –°—Å—ã–ª–∫–∏ —Å `.../audiobooks/<id>` –±—É–¥—É—Ç —Å–∫–∞—á–∞–Ω—ã **–∫–∞–∫ –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏** —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å–ø–∏—Å–∫–∞:
  **–±–µ–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≥–ª–∞–≤** (`--merge-chapters`) –∏ **–≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ** (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç `--max-bitrate`).  
  (–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –æ–¥–∏–Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ —Ç–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç; —Ñ–ª–∞–≥ `--max-bitrate` –≤ CLI ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π, –∏ –ø—Ä–∏ –µ–≥–æ –Ω–∞–ª–∏—á–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞ *–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π* –±–∏—Ç—Ä–µ–π—Ç.)

- –°—Å—ã–ª–∫–∏ —Å `.../books/<id>` –±—É–¥—É—Ç —Å–∫–∞—á–∞–Ω—ã **–∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–Ω–∏–≥–∏** –≤ —Ñ–æ—Ä–º–∞—Ç **EPUB**, –∞ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω—ã **FB2** –∏ **PDF (—Ç–µ–∫—Å—Ç–æ–≤–∞—è, –±–∞–∑–æ–≤–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è)** —Ä—è–¥–æ–º —Å EPUB.

- –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `#` –∏–ª–∏ `;`, –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è. –î—É–±–ª–∏ URL –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

- **–ê—Ä—Ö–∏–≤ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö** (`archive.txt`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –≤ –æ–¥–∏–Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ: –µ—Å–ª–∏ ID —É–∂–µ –µ—Å—Ç—å, –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.


> –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–ª–∞–≤—ã –∞—É–¥–∏–æ–∫–Ω–∏–≥ **–Ω–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è**. –ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª, –¥–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥ `--merge-chapters`. `--keep-chapters` –æ—Å—Ç–∞–≤–∏—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≥–ª–∞–≤ –ø–æ—Å–ª–µ —Å–∫–ª–µ–π–∫–∏.
