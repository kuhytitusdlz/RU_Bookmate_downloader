# RUBookmatedownloader

> **–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± ‚Äî –≥–æ—Ç–æ–≤–∞—è Windows‚Äë—Å–±–æ—Ä–∫–∞ `.exe`.** –í–∞—Ä–∏–∞–Ω—Ç —á–µ—Ä–µ–∑ Python –æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Windows, –≥–æ—Ç–æ–≤—ã–π `.exe`)

1. **–°–∫–∞—á–∞–π—Ç–µ** –∞—Ä—Ö–∏–≤ —Ä–µ–ª–∏–∑–∞: `RUBookmateDownloader-win64.zip` (–≤ —Ä–∞–∑–¥–µ–ª–µ *Releases*).
2. **–†–∞—Å–ø–∞–∫—É–π—Ç–µ** –≤ —É–¥–æ–±–Ω—É—é –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\Apps\RUBookmateDownloader\`).  
   –í–Ω—É—Ç—Ä–∏ —É–∂–µ –µ—Å—Ç—å `RUBookmateDownloader.exe` **–∏** –≥–æ—Ç–æ–≤—ã–µ `ffmpeg.exe / ffprobe.exe / ffplay.exe` ‚Äî **–Ω–∏—á–µ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ**.
3. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ / –≤—Ö–æ–¥**  
   –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```powershell
   .\RUBookmateDownloader.exe
   ```
   –°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Bookmate.
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ø—Ä–∏–º–µ—Ä—ã)**  
   –¢–∏–ø —Ä–µ—Å—É—Ä—Å–∞ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –ø–æ URL: `https://bookmate.ru/<—Ç–∏–ø>/<id>` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `audiobook`, `book`, `comicbook`, `serial`, `series`).

   **–ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–º–∞–∫—Å. –∫–∞—á–µ—Å—Ç–≤–æ):**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --max-bitrate
   ```

   **–ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–æ–±—ã—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ):**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id>
   ```

   **–ù–µ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≥–ª–∞–≤—ã:**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --no-merge
   ```

   **–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≥–ª–∞–≤—ã –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:**
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --keep-chapters
   ```

   **–¢–µ–∫—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞:**
   ```powershell
   .\RUBookmateDownloader.exe book <id>
   ```

   **–ö–æ–º–∏–∫—Å:**
   ```powershell
   .\RUBookmateDownloader.exe comicbook <id>
   ```

   **–°–µ—Ä–∏–∞–ª (—Ç–µ–∫—Å—Ç –∏–∑ —á–∞—Å—Ç–µ–π):**
   ```powershell
   .\RUBookmateDownloader.exe serial <id>
   ```

   **–°–µ—Ä–∏—è (–ø–æ–¥–±–æ—Ä–∫–∞):**
   ```powershell
   .\RUBookmateDownloader.exe series <id>
   ```

5. **–ü—Ä–æ–∫—Å–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)**  
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–º:
     ```powershell
     .\RUBookmateDownloader.exe audiobook <id> --proxy "socks5h://127.0.0.1:9050"
     ```
   - –ò–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (PowerShell):
     ```powershell
     $env:BOOKMATE_PROXY = "http://127.0.0.1:8080"
     .\RUBookmateDownloader.exe audiobook <id>
     ```

6. **–ê—Ä—Ö–∏–≤ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö (–∫–∞–∫ —É yt‚Äëdlp)**  
   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–µ–¥—ë—Ç —Ñ–∞–π–ª `archive.txt` –≤ —Ä–∞–±–æ—á–µ–π –ø–∞–ø–∫–µ: **–∫–∞–∂–¥—ã–π —Å–∫–∞—á–∞–Ω–Ω—ã–π ID** ‚Äî –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ.  
   –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π ID –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è; –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∞ **–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è**. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª:
   ```powershell
   .\RUBookmateDownloader.exe audiobook <id> --archive "D:\my-archive.txt"
   ```

7. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–ª–∞–≤ –∞—É–¥–∏–æ–∫–Ω–∏–≥**  
   –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–ª–∞–≤—ã **–æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è** –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ffmpeg`, —É–∂–µ –ª–µ–∂–∏—Ç –≤ –ø–∞–ø–∫–µ —Ä—è–¥–æ–º —Å EXE).  
   –ö–ª—é—á–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: `--no-merge`, `--keep-chapters`.

8. **–¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥**
   - **SmartScreen/Defender**: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–∞ ‚Üí ¬´–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å¬ª, –ª–∏–±–æ ¬´–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Üí –í—Å–µ —Ä–∞–≤–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å¬ª.
   - **¬´ID —É–∂–µ —Å–∫–∞—á–∞–Ω¬ª**: ID –µ—Å—Ç—å –≤ `archive.txt`. –£–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª `--archive`.
   - **–°–µ—Ç—å / –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ø–æ–ø—Ä–æ–±—É–π—Ç–µ `--proxy` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `BOOKMATE_PROXY`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –ø–∞—É–∑—É –º–µ–∂–¥—É —Ç—Ä–µ–∫–∞–º–∏ `--throttle 1.5`.

---

## üêç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Python

1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ / –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
   ```bash
   python RUBookmatedownloader.py
   ```

3. **–ü—Ä–∏–º–µ—Ä—ã**
   ```bash
   # –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–º–∞–∫—Å. –∫–∞—á–µ—Å—Ç–≤–æ)
   python RUBookmatedownloader.py audiobook <id> --max-bitrate

   # –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ (–æ–±—ã—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
   python RUBookmatedownloader.py audiobook <id>

   # –ù–µ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≥–ª–∞–≤—ã
   python RUBookmatedownloader.py audiobook <id> --no-merge

   # –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≥–ª–∞–≤—ã –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
   python RUBookmatedownloader.py audiobook <id> --keep-chapters

   # –¢–µ–∫—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞
   python RUBookmatedownloader.py book <id>

   # –ö–æ–º–∏–∫—Å
   python RUBookmatedownloader.py comicbook <id>

   # –°–µ—Ä–∏–∞–ª (—Ç–µ–∫—Å—Ç –∏–∑ —á–∞—Å—Ç–µ–π)
   python RUBookmatedownloader.py serial <id>

   # –°–µ—Ä–∏—è (–ø–æ–¥–±–æ—Ä–∫–∞)
   python RUBookmatedownloader.py series <id>
   ```

4. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–ª–∞–≤ –æ—Ç–¥–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**  
   –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å–∫–∞—á–∞–Ω–Ω—É—é –∞—É–¥–∏–æ–∫–Ω–∏–≥—É:
   ```bash
   # –æ–¥–Ω—É –∞—É–¥–∏–æ–∫–Ω–∏–≥—É
   python merge_audiobook.py "–ø—É—Ç—å/–∫/–ø–∞–ø–∫–µ/–∞—É–¥–∏–æ–∫–Ω–∏–≥–∏"

   # –≤—Å–µ –≤ mybooks/audiobook/
   python merge_audiobook.py --batch

   # –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
   python merge_audiobook.py --batch --force

   # —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–ª–∞–≤—ã
   python merge_audiobook.py --batch --keep-chapters
   ```

5. **–ù—é–∞–Ω—Å—ã FFmpeg**
   - –í `.exe`‚Äë–≤–µ—Ä—Å–∏–∏ **FFmpeg —É–∂–µ –≤–∫–ª—é—á—ë–Ω** (–ª–µ–∂–∏—Ç —Ä—è–¥–æ–º —Å `RUBookmateDownloader.exe`).  
   - –í Python‚Äë–≤–∞—Ä–∏–∞–Ω—Ç–µ –Ω—É–∂–µ–Ω `ffmpeg` –≤ `PATH` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π/–±–µ–∑ –ø–æ—Ç–µ—Ä—å —Å–∫–ª–µ–π–∫–∏.  
     –£—Å—Ç–∞–Ω–æ–≤–∫–∞: **Linux** ‚Äî `apt install ffmpeg`, **macOS** ‚Äî `brew install ffmpeg`, **Windows** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ —Å–±–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, BtbN) –∏ –¥–æ–±–∞–≤—å—Ç–µ `bin` –≤ `PATH`.

---

## üîß –°–±–æ—Ä–∫–∞ `.exe` (–¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤)
- GitHub Actions (`build-exe.yml`) —Å–æ–±–∏—Ä–∞–µ—Ç –æ–¥–Ω–æ—Ñ–∞–π–ª–æ–≤—ã–π EXE –∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç **–≥–æ—Ç–æ–≤—É—é —Å–±–æ—Ä–∫—É FFmpeg** (BtbN, `win64 gpl-shared`), –∫–æ–ø–∏—Ä—É—è –≤–µ—Å—å `bin` —Ä—è–¥–æ–º —Å EXE.
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `release/RUBookmateDownloader-win64.zip`.
